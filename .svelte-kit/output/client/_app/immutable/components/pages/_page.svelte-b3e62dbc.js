import{I as ue,S as B,i as D,s as R,k as C,q as X,l as A,m as E,r as Q,h as m,n as T,b as x,G as S,J as N,B as v,H as V,K as fe,L as _,a as U,w as O,c as q,x as M,y as L,f as I,t as P,z as H,M as de,o as he,N as pe}from"../../chunks/index-36c03a19.js";import{_ as me}from"../../chunks/preload-helper-b21cceae.js";import{w as ge}from"../../chunks/index-ab47bb76.js";var K={};function ve(e,t,n){const r=typeof localStorage<"u"&&typeof window<"u",i=(n==null?void 0:n.serializer)||JSON;function a(l,s){!r||localStorage.setItem(l,i.stringify(s))}if(!K[e]){const l=ge(t,u=>{const h=r?localStorage.getItem(e):null;if(h&&u(i.parse(h)),r){const y=k=>{k.key===e&&u(k.newValue?i.parse(k.newValue):null)};return window.addEventListener("storage",y),()=>window.removeEventListener("storage",y)}}),{subscribe:s,set:o}=l;K[e]={set(u){a(e,u),o(u)},update(u){const h=u(ue(l));a(e,h),o(h)},subscribe:s}}return K[e]}const b=ve("preferences",{datetime:"",html:"",contents:"",plainText:""});function ye(e){let t,n,r,i;return{c(){t=C("button"),n=X("Start again"),this.h()},l(a){t=A(a,"BUTTON",{class:!0});var l=E(t);n=Q(l,"Start again"),l.forEach(m),this.h()},h(){T(t,"class","button")},m(a,l){x(a,t,l),S(t,n),r||(i=N(t,"click",e[0]),r=!0)},p:v,i:v,o:v,d(a){a&&m(t),r=!1,i()}}}function we(e,t,n){let r;V(e,b,s=>n(1,r=s));const i=fe(),a=()=>{confirm("This will delete all your text. Are you sure?")&&l()},l=()=>{_(b,r.html="",r),_(b,r.contents="",r),_(b,r.plainText="",r),document.querySelector(".ql-editor").innerHTML="",document.querySelector("button#copyForWordButton").textContent="Copy for Word / Google Docs",document.querySelector("button#copyAsMarkdownButton").textContent="Copy as Markdown",i("allowTyping")};return[a]}class ke extends B{constructor(t){super(),D(this,t,we,ye,R,{})}}function be(e){let t,n,r,i;return{c(){t=C("button"),n=X("Copy for Word / Google Docs"),this.h()},l(a){t=A(a,"BUTTON",{class:!0,id:!0});var l=E(t);n=Q(l,"Copy for Word / Google Docs"),l.forEach(m),this.h()},h(){T(t,"class","button"),T(t,"id","copyForWordButton")},m(a,l){x(a,t,l),S(t,n),r||(i=N(t,"click",e[0]),r=!0)},p:v,i:v,o:v,d(a){a&&m(t),r=!1,i()}}}function Te(e,t,n){let r;return V(e,b,a=>n(1,r=a)),[async a=>{const l=r.html,s=r.plainText,o=[new ClipboardItem({"text/html":new Blob([l],{type:"text/html"}),"text/plain":new Blob([s],{type:"text/plain"})})];navigator.clipboard.write(o).then(function(){a.target.textContent="Copied!",document.querySelector("button#copyAsMarkdownButton").textContent="Copy as Markdown"},function(){})}]}class Ce extends B{constructor(t){super(),D(this,t,Te,be,R,{})}}function Ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}function Y(e,t){return Array(t+1).join(e)}function Ee(e){return e.replace(/^\n*/,"")}function xe(e){for(var t=e.length;t>0&&e[t-1]===`
`;)t--;return e.substring(0,t)}var Se=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function J(e){return Z(e,Se)}var ne=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function re(e){return Z(e,ne)}function Ne(e){return ae(e,ne)}var ie=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function Be(e){return Z(e,ie)}function De(e){return ae(e,ie)}function Z(e,t){return t.indexOf(e.nodeName)>=0}function ae(e,t){return e.getElementsByTagName&&t.some(function(n){return e.getElementsByTagName(n).length})}var p={};p.paragraph={filter:"p",replacement:function(e){return`

`+e+`

`}};p.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+`
`}};p.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,n){var r=Number(t.nodeName.charAt(1));if(n.headingStyle==="setext"&&r<3){var i=Y(r===1?"=":"-",e.length);return`

`+e+`
`+i+`

`}else return`

`+Y("#",r)+" "+e+`

`}};p.blockquote={filter:"blockquote",replacement:function(e){return e=e.replace(/^\n+|\n+$/g,""),e=e.replace(/^/gm,"> "),`

`+e+`

`}};p.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return n.nodeName==="LI"&&n.lastElementChild===t?`
`+e:`

`+e+`

`}};p.listItem={filter:"li",replacement:function(e,t,n){e=e.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var r=n.bulletListMarker+"   ",i=t.parentNode;if(i.nodeName==="OL"){var a=i.getAttribute("start"),l=Array.prototype.indexOf.call(i.children,t);r=(a?Number(a)+l:l+1)+".  "}return r+e+(t.nextSibling&&!/\n$/.test(e)?`
`:"")}};p.indentedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="indented"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){return`

    `+t.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};p.fencedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="fenced"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){for(var r=t.firstChild.getAttribute("class")||"",i=(r.match(/language-(\S+)/)||[null,""])[1],a=t.firstChild.textContent,l=n.fence.charAt(0),s=3,o=new RegExp("^"+l+"{3,}","gm"),u;u=o.exec(a);)u[0].length>=s&&(s=u[0].length+1);var h=Y(l,s);return`

`+h+i+`
`+a.replace(/\n$/,"")+`
`+h+`

`}};p.horizontalRule={filter:"hr",replacement:function(e,t,n){return`

`+n.hr+`

`}};p.inlineLink={filter:function(e,t){return t.linkStyle==="inlined"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t){var n=t.getAttribute("href"),r=F(t.getAttribute("title"));return r&&(r=' "'+r+'"'),"["+e+"]("+n+r+")"}};p.referenceLink={filter:function(e,t){return t.linkStyle==="referenced"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t,n){var r=t.getAttribute("href"),i=F(t.getAttribute("title"));i&&(i=' "'+i+'"');var a,l;switch(n.linkReferenceStyle){case"collapsed":a="["+e+"][]",l="["+e+"]: "+r+i;break;case"shortcut":a="["+e+"]",l="["+e+"]: "+r+i;break;default:var s=this.references.length+1;a="["+e+"]["+s+"]",l="["+s+"]: "+r+i}return this.references.push(l),a},references:[],append:function(e){var t="";return this.references.length&&(t=`

`+this.references.join(`
`)+`

`,this.references=[]),t}};p.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}};p.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}};p.code={filter:function(e){var t=e.previousSibling||e.nextSibling,n=e.parentNode.nodeName==="PRE"&&!t;return e.nodeName==="CODE"&&!n},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",n="`",r=e.match(/`+/gm)||[];r.indexOf(n)!==-1;)n=n+"`";return n+t+e+t+n}};p.image={filter:"img",replacement:function(e,t){var n=F(t.getAttribute("alt")),r=t.getAttribute("src")||"",i=F(t.getAttribute("title")),a=i?' "'+i+'"':"";return r?"!["+n+"]("+r+a+")":""}};function F(e){return e?e.replace(/(\n+\s*)+/g,`
`):""}function le(e){this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[];for(var t in e.rules)this.array.push(e.rules[t])}le.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){if(e.isBlank)return this.blankRule;var t;return(t=G(this.array,e,this.options))||(t=G(this._keep,e,this.options))||(t=G(this._remove,e,this.options))?t:this.defaultRule},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};function G(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(Re(i,t,n))return i}}function Re(e,t,n){var r=e.filter;if(typeof r=="string"){if(r===t.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(t.nodeName.toLowerCase())>-1)return!0}else if(typeof r=="function"){if(r.call(e,t,n))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function $e(e){var t=e.element,n=e.isBlock,r=e.isVoid,i=e.isPre||function(y){return y.nodeName==="PRE"};if(!(!t.firstChild||i(t))){for(var a=null,l=!1,s=null,o=ee(s,t,i);o!==t;){if(o.nodeType===3||o.nodeType===4){var u=o.data.replace(/[ \r\n\t]+/g," ");if((!a||/ $/.test(a.data))&&!l&&u[0]===" "&&(u=u.substr(1)),!u){o=j(o);continue}o.data=u,a=o}else if(o.nodeType===1)n(o)||o.nodeName==="BR"?(a&&(a.data=a.data.replace(/ $/,"")),a=null,l=!1):r(o)||i(o)?(a=null,l=!0):a&&(l=!1);else{o=j(o);continue}var h=ee(s,o,i);s=o,o=h}a&&(a.data=a.data.replace(/ $/,""),a.data||j(a))}}function j(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function ee(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}var oe=typeof window<"u"?window:{};function _e(){var e=oe.DOMParser,t=!1;try{new e().parseFromString("","text/html")&&(t=!0)}catch{}return t}function Oe(){var e=function(){};return Me()?e.prototype.parseFromString=function(t){var n=new window.ActiveXObject("htmlfile");return n.designMode="on",n.open(),n.write(t),n.close(),n}:e.prototype.parseFromString=function(t){var n=document.implementation.createHTMLDocument("");return n.open(),n.write(t),n.close(),n},e}function Me(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch{window.ActiveXObject&&(e=!0)}return e}var Le=_e()?oe.DOMParser:Oe();function Ie(e,t){var n;if(typeof e=="string"){var r=Pe().parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html");n=r.getElementById("turndown-root")}else n=e.cloneNode(!0);return $e({element:n,isBlock:J,isVoid:re,isPre:t.preformattedCode?He:null}),n}var z;function Pe(){return z=z||new Le,z}function He(e){return e.nodeName==="PRE"||e.nodeName==="CODE"}function Fe(e,t){return e.isBlock=J(e),e.isCode=e.nodeName==="CODE"||e.parentNode.isCode,e.isBlank=We(e),e.flankingWhitespace=Ve(e,t),e}function We(e){return!re(e)&&!Be(e)&&/^\s*$/i.test(e.textContent)&&!Ne(e)&&!De(e)}function Ve(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var n=Ue(e.textContent);return n.leadingAscii&&te("left",e,t)&&(n.leading=n.leadingNonAscii),n.trailingAscii&&te("right",e,t)&&(n.trailing=n.trailingNonAscii),{leading:n.leading,trailing:n.trailing}}function Ue(e){var t=e.match(/^(([ \t\r\n]*)(\s*))[\s\S]*?((\s*?)([ \t\r\n]*))$/);return{leading:t[1],leadingAscii:t[2],leadingNonAscii:t[3],trailing:t[4],trailingNonAscii:t[5],trailingAscii:t[6]}}function te(e,t,n){var r,i,a;return e==="left"?(r=t.previousSibling,i=/ $/):(r=t.nextSibling,i=/^ /),r&&(r.nodeType===3?a=i.test(r.nodeValue):n.preformattedCode&&r.nodeName==="CODE"?a=!1:r.nodeType===1&&!J(r)&&(a=i.test(r.textContent))),a}var qe=Array.prototype.reduce,Ke=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function W(e){if(!(this instanceof W))return new W(e);var t={rules:p,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(n,r){return r.isBlock?`

`:""},keepReplacement:function(n,r){return r.isBlock?`

`+r.outerHTML+`

`:r.outerHTML},defaultReplacement:function(n,r){return r.isBlock?`

`+n+`

`:n}};this.options=Ae({},t,e),this.rules=new le(this.options)}W.prototype={turndown:function(e){if(!ze(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(e==="")return"";var t=se.call(this,new Ie(e,this.options));return Ge.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else if(typeof e=="function")e(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return Ke.reduce(function(t,n){return t.replace(n[0],n[1])},e)}};function se(e){var t=this;return qe.call(e.childNodes,function(n,r){r=new Fe(r,t.options);var i="";return r.nodeType===3?i=r.isCode?r.nodeValue:t.escape(r.nodeValue):r.nodeType===1&&(i=je.call(t,r)),ce(n,i)},"")}function Ge(e){var t=this;return this.rules.forEach(function(n){typeof n.append=="function"&&(e=ce(e,n.append(t.options)))}),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function je(e){var t=this.rules.forNode(e),n=se.call(this,e),r=e.flankingWhitespace;return(r.leading||r.trailing)&&(n=n.trim()),r.leading+t.replacement(n,e,this.options)+r.trailing}function ce(e,t){var n=xe(e),r=Ee(t),i=Math.max(e.length-n.length,t.length-r.length),a=`

`.substring(0,i);return n+a+r}function ze(e){return e!=null&&(typeof e=="string"||e.nodeType&&(e.nodeType===1||e.nodeType===9||e.nodeType===11))}function Ye(e){let t,n,r,i;return{c(){t=C("button"),n=X("Copy as Markdown"),this.h()},l(a){t=A(a,"BUTTON",{class:!0,id:!0});var l=E(t);n=Q(l,"Copy as Markdown"),l.forEach(m),this.h()},h(){T(t,"class","button"),T(t,"id","copyAsMarkdownButton")},m(a,l){x(a,t,l),S(t,n),r||(i=N(t,"click",e[0]),r=!0)},p:v,i:v,o:v,d(a){a&&m(t),r=!1,i()}}}function Xe(e,t,n){let r;V(e,b,l=>n(1,r=l));let i=new W({headingStyle:"atx"});return[async l=>{if(!!navigator.clipboard)try{const s=r.html,o=i.turndown(s);await navigator.clipboard.writeText(o),l.target.textContent="Copied!",document.querySelector("button#copyForWordButton").textContent="Copy for Word / Google Docs"}catch(s){console.error("Copy failed",s)}}]}class Qe extends B{constructor(t){super(),D(this,t,Xe,Ye,R,{})}}function Je(e){let t,n,r,i,a,l,s,o,u,h,y,k;return a=new ke({}),a.$on("allowTyping",e[1]),s=new Ce({}),u=new Qe({}),{c(){t=C("div"),n=C("div"),r=U(),i=C("section"),O(a.$$.fragment),l=U(),O(s.$$.fragment),o=U(),O(u.$$.fragment),this.h()},l(d){t=A(d,"DIV",{class:!0});var f=E(t);n=A(f,"DIV",{}),E(n).forEach(m),f.forEach(m),r=q(d),i=A(d,"SECTION",{class:!0});var w=E(i);M(a.$$.fragment,w),l=q(w),M(s.$$.fragment,w),o=q(w),M(u.$$.fragment,w),w.forEach(m),this.h()},h(){T(t,"class","editor-wrapper"),T(i,"class","flex flex-col items-start gap-6 ml-2 mt-10")},m(d,f){x(d,t,f),S(t,n),e[6](n),x(d,r,f),x(d,i,f),L(a,i,null),S(i,l),L(s,i,null),S(i,o),L(u,i,null),h=!0,y||(k=[N(n,"text-change",e[3]),N(n,"cut",e[2])],y=!0)},p:v,i(d){h||(I(a.$$.fragment,d),I(s.$$.fragment,d),I(u.$$.fragment,d),h=!0)},o(d){P(a.$$.fragment,d),P(s.$$.fragment,d),P(u.$$.fragment,d),h=!1},d(d){d&&m(t),e[6](null),d&&m(r),d&&m(i),H(a),H(s),H(u),y=!1,de(k)}}}const Ze=`Start writing\u2026

You can't delete any text you type.

Breeze through your typos. You can clean them up later.`;function et(e,t,n){let r;V(e,b,f=>n(8,r=f));let i,{strikethroughAllowed:a=!1}=t,l;a?l="strike":a||(l=void 0);let s=[[{header:1},{header:2}],["bold","italic","underline",l,"link"],[{list:"ordered"},{list:"bullet"}],["clean"]],{theme:o="snow"}=t;he(async()=>{const{default:f}=await me(()=>import("../../chunks/quill-b65bbf8c.js").then(c=>c.q),[],import.meta.url),w={handleDelete:{key:"Delete",handler(){}},handleShiftDelete:{key:"Delete",shiftKey:!0,handler(){}},handleBackspace:{key:"Backspace",handler(){}},handlesShiftBackspace:{key:"Backspace",shiftKey:!0,handler(){}},handlesSuperBackspace:{key:"Backspace",shortKey:!0,handler(){}},handleUndo:{key:"Z",shortKey:!0,handler(){}},tab:{key:9,handler(c){if(c.length===0)return!0;if(c.length>0)return!1}},enter:{key:"Enter",handler(c){if(c.length===0)return!0;if(c.length>0)return!1}},arrowLeft:{key:37,handler(c){if(c.length===0)return!0;c.length>0&&g.setSelection(c.index,0)}},arrowUp:{key:38,handler(c){if(c.length===0)return!0;c.length>0&&g.setSelection(c.index,0)}},arrowRight:{key:39,handler(c){if(c.length===0)return!0;c.length>0&&g.setSelection(c.index+c.length,0)}},arrowDown:{key:40,handler(c){if(c.length===0)return!0;c.length>0&&g.setSelection(c.index+c.length,0)}}};let g=new f(i,{modules:{toolbar:s,keyboard:{bindings:w},clipboard:{matchVisual:!1}},theme:o,placeholder:Ze});g.root.setAttribute("spellcheck",!1),g.setContents(r.contents),g.focus();const $=i.querySelector(".ql-editor");g.on("text-change",function(){i.dispatchEvent(new CustomEvent("text-change",{detail:{html:$.innerHTML,contents:g.getContents(),plainText:g.getText()}}))}),g.on("selection-change",function(c){c&&c.length>0?$.addEventListener("keydown",u):c?c&&c.length==0&&$.removeEventListener("keydown",u):$.removeEventListener("keydown",u)})});const u=f=>{const w=["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"],g=["c","r","e","l"];if(w.includes(f.key))return!0;if(f.ctrlKey&&g.includes(f.key))return!0;f.preventDefault()},h=()=>{document.querySelector("div.ql-editor").removeEventListener("keydown",u)},y=f=>{f.preventDefault()},k=f=>{_(b,r={datetime:String(new Date().getTime()),html:f.detail.html.replace(new RegExp("<p><br></p>","g"),""),contents:f.detail.contents,plainText:f.detail.plainText},r)};function d(f){pe[f?"unshift":"push"](()=>{i=f,n(0,i)})}return e.$$set=f=>{"strikethroughAllowed"in f&&n(4,a=f.strikethroughAllowed),"theme"in f&&n(5,o=f.theme)},[i,h,y,k,a,o,d]}class tt extends B{constructor(t){super(),D(this,t,et,Je,R,{strikethroughAllowed:4,theme:5})}}function nt(e){let t,n,r;return n=new tt({}),{c(){t=C("main"),O(n.$$.fragment),this.h()},l(i){t=A(i,"MAIN",{class:!0});var a=E(t);M(n.$$.fragment,a),a.forEach(m),this.h()},h(){T(t,"class","mx-8 mt-4 max-w-[70ch]")},m(i,a){x(i,t,a),L(n,t,null),r=!0},p:v,i(i){r||(I(n.$$.fragment,i),r=!0)},o(i){P(n.$$.fragment,i),r=!1},d(i){i&&m(t),H(n)}}}class lt extends B{constructor(t){super(),D(this,t,null,nt,R,{})}}export{lt as default};
